---
interface Props {
  title?: string;
  rating?: number;
  reviewCount?: number;
  linkText?: string;
  mapsUrl?: string;
}
const { title = "LO QUE DICEN NUESTROS CLIENTES", rating = 4.8, reviewCount = 120, linkText = "Ver en Google Maps", mapsUrl = "https://www.google.com/maps" } = Astro.props;
---
<section id="valoraciones" class="reviews-section" aria-labelledby="valoraciones-heading">
  <div class="container">
    <h2 id="valoraciones-heading" class="section-title">{title}</h2>
    <div class="reviews-card">
      <p class="reviews-rating" aria-label={`Valoración: ${rating} de 5`}>
        <span class="stars">{Array(5).fill("★").join("")}</span>
        <span class="rating-value">{rating}</span>
      </p>
      <p class="reviews-count">{reviewCount} valoraciones en Google</p>
      <a href={mapsUrl} target="_blank" rel="noopener noreferrer" class="reviews-link">{linkText}</a>
    </div>
  </div>
</section>

<style>
  .reviews-section {
    background: var(--color-surface);
  }
  .section-title {
    font-family: var(--font-title);
    font-size: clamp(2rem, 5vw, 2.75rem);
    letter-spacing: 0.05em;
    color: var(--color-text);
    margin-bottom: var(--space-6);
  }
  .reviews-card {
    max-width: 28rem;
    padding: var(--space-8);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 8px;
  }
  .reviews-rating {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin: 0 0 var(--space-2);
  }
  .stars {
    color: var(--color-accent);
    font-size: 1.5rem;
  }
  .rating-value {
    font-weight: 600;
    color: var(--color-text);
  }
  .reviews-count {
    color: var(--color-muted);
    margin: 0 0 var(--space-4);
  }
  .reviews-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-height: var(--touch-target-min);
    padding: var(--space-3) var(--space-4);
    border: 1px solid var(--color-accent);
    border-radius: 4px;
    color: var(--color-accent);
  }
  .reviews-link:hover {
    background: var(--color-accent);
    color: var(--color-bg);
    text-decoration: none;
  }
  @media (max-width: 768px) {
    .reviews-card {
      padding: var(--space-4);
    }
  }
</style>
